# 自動化スクリプト使用方法

このプロジェクトには、開発とデプロイを自動化するためのシェルスクリプトが用意されています。

## 📜 利用可能なスクリプト

### 1. `build-and-run.sh` - 本番用ビルド & 起動
```bash
./build-and-run.sh
```
**用途:** 本番環境での利用
**動作:** 
- フロントエンドの依存関係をインストール
- フロントエンドをビルドしてバックエンドのstaticディレクトリに配置
- バックエンドサーバーを起動（1つのサーバーでフロントエンドとバックエンドを配信）

**アクセス方法:** http://localhost:8000

---

### 2. `dev.sh` - 開発モード
```bash
./dev.sh
```
**用途:** 開発時の利用
**動作:**
- フロントエンドの依存関係をインストール
- バックエンドサーバーをバックグラウンドで起動
- フロントエンド開発サーバーを起動（ホットリロード対応）

**アクセス方法:**
- フロントエンド: http://localhost:5173 （開発サーバー）
- バックエンド: http://localhost:8000 （API）

---

### 3. `clean-build.sh` - クリーンビルド
```bash
./clean-build.sh
```
**用途:** 問題が発生した際のクリーンビルド
**動作:**
- node_modulesディレクトリを削除
- backend/staticディレクトリを削除
- 依存関係を再インストール
- フロントエンドを再ビルド
- バックエンドサーバーを起動

**アクセス方法:** http://localhost:8000

---

## 🚀 推奨される使用方法

### 開発時
```bash
# 開発モードで起動（ホットリロード有効）
./dev.sh
```

### 本番環境・デモ時
```bash
# 本番用ビルドで起動
./build-and-run.sh
```

### 問題が発生した場合
```bash
# クリーンビルドで起動
./clean-build.sh
```

---

## 📝 注意事項

- すべてのスクリプトは`my-chat-app`ディレクトリ内で実行してください
- サーバーを停止するには`Ctrl+C`を押してください
- 開発モード(`dev.sh`)では、フロントエンドとバックエンドが別々のポートで動作します
- 本番モード(`build-and-run.sh`)では、バックエンドサーバー1つですべてを配信します

---

## 🔧 トラブルシューティング

**ポートが使用中のエラーが発生した場合:**
```bash
# プロセスを確認
lsof -i :8000
lsof -i :5173

# プロセスを終了
kill -9 <PID>
```

**依存関係のエラーが発生した場合:**
```bash
# クリーンビルドを実行
./clean-build.sh
``` 